.h2 プロフィール編集
= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
  = render "devise/shared/error_messages", resource: resource
  .thumbnail
    - if @user.image?
      = image_tag @user.image.url,class: "mb-2"
    - else
      = image_tag "/assets/default.jpg",class: "mb-2",:size => '100x100'
    end
    .button
      .btn.btn-default.btn-outline-secondary.mt-2
        = f.file_field :image, accept: 'image/jpeg,image/gif,image/png'

  .form-group.row.mt-3
    .col-md-3.offset-md-1
      = f.label :name
      br
      = f.text_field :name, autofocus: true,class: 'form-control'
  
  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :email
      br
      = f.email_field :email, autofocus: true, autocomplete: "email",class: 'form-control'
    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      div
        | Currently waiting confirmation for: 
        = resource.unconfirmed_email

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :性別
      br
      = f.select :sex,[['男性','男性'],['女性','女性']]

  .form-group.row
    .col-md-7.col-form-label.offset-md-1
      = f.label :プロフィール
      br
      = f.text_area :profile, autofocus: true,rows: 5,class: 'form-control'

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :ゲームアカウント名
      br
      = f.text_field :psnid, autofocus: true,class: 'form-control'

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :キルレ
      br
      = f.text_field :strength, autofocus: true,class: 'form-control'

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :クラン
      br
      = f.text_field :clan, autofocus: true,class: 'form-control'

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :レベル
      br
      = f.text_field :level, autofocus: true,class: 'form-control'

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :光レベル
      br
      = f.text_field :lightlevel, autofocus: true,class: 'form-control'

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :機種
      br
      = f.select :model,[['PS4','PS4'],['PS3','PS3'],['PC','PC'],['XboxOne','XboxOne']],class: 'form-control'

  .form-group.row
    .col-md-8.col-form-label.offset-md-1
      = f.label :ボイスチャット
      br
      = f.select :voice,[['あり','あり'],['なし','なし']],class: 'form-control'

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :プレイスタイル
      br
      = f.text_field :style, autofocus: true,class: 'form-control'

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :プレイ時間帯
      br
      = f.text_field :timezone, autofocus: true,class: 'form-control'


  .form-group.row
    .col-md-5.col-form-label.offset-md-1
      = f.label :変更したいパスワード
      br
      = f.password_field :password, autocomplete: "new-password",class: 'form-control'
      | (パスワードを変更しない場合は空白のままにします)
      - if @minimum_password_length
        br
        em
          = @minimum_password_length
          |  文字以上
  
  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      = f.label :password_confirmation
      br
      = f.password_field :password_confirmation, autocomplete: "new-password"
  
  .form-group.row
    .col-md-8.col-form-label.offset-md-1
      = f.label :current_password
      br
      = f.password_field :current_password, autocomplete: "current-password"
      br
      | (プロフィールを変更するには現在のパスワードを入力してください)

  .form-group.row
    .col-md-3.col-form-label.offset-md-1
      .action
        = f.submit "プロフィール更新",class: 'btn btn-outline-primary'

.form-group.row
    .col-md-6.col-form-label.offset-md-1
      h3
        | アカウントを削除する
      p
        | 本当に退会しますか？ 
        = button_to "アカウント削除", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete,class: 'btn btn-outline-primary'
      = link_to "マイページへ戻る","/users/#{current_user.id}"
